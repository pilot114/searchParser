### Установка

6XYvdHYkaDH4At

Для работы требуется cron, php с curl, mongo и mongoClient.


### Структура таски

q - поисковый запрос
t  - время парсинга
l  - ссылка (href)
{engine:count} - порядковый номер в выдаче

Соответсвенно каждый документ относится к одной из коллекций - google, yandex, mail и т.д.

1. Ускорить работу парсинга( на счёт идеального времени работы я писал) чем быстрее, тем лучше разумеется. Попробуй разные методы, что бы не тормозились в конце на несколько часов.понять причину этого.
2. Чтобы ссылки, которые мы получали в результате парсинга не повторялись- по доменам. Лишние удалялись или вообще не записывались)
3. Уменьшить количества Банов поисковиков( разобраться в причине, которая не дает парсить ресурс с доменами .инфо) - возможно поможет решить вопрос с поисковиками тоже. 

TODO
* кнопка для возобновления того что на паузе (сейчас вручную запросом ниже)
* выборка статистики по времени, график по ссылкам и уникам
* для воркера: таски -> rand timeout 5-10 сек -> таски .. -> выход

### Обновление полей

db.tasks.update({status:'old'}, {$set:{status:'new'}}, {multi:true})


### cron

Запуск worker.php раз в час
dump.sh раз в день
